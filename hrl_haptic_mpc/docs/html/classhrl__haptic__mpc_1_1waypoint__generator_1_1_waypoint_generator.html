<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>HRL Haptic MPC: hrl_haptic_mpc.waypoint_generator.WaypointGenerator Class Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />

<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>

</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">HRL Haptic MPC
   
   </div>
   <div id="projectbrief">A haptic model predictive controller</div>
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.6.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Packages</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

  <div id="nav-path" class="navpath">
    <ul>
      <li class="navelem"><a class="el" href="namespacehrl__haptic__mpc.html">hrl_haptic_mpc</a>      </li>
      <li class="navelem"><b>waypoint_generator</b>      </li>
      <li class="navelem"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html">WaypointGenerator</a>      </li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a>  </div>
  <div class="headertitle">
<div class="title">hrl_haptic_mpc.waypoint_generator.WaypointGenerator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<!-- doxytag: class="hrl_haptic_mpc::waypoint_generator::WaypointGenerator" -->
<p>takes either a goal pose or a trajectory and passes local goals to the MPC controller to try to make the controller follow it.  
 <a href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#details">More...</a></p>

<p><a href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator-members.html">List of all members.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a826f163218a8fe7f8b6c065a5a8c2adc">__init__</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a826f163218a8fe7f8b6c065a5a8c2adc"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a6341d3f8bba07767d7818828962841e5">initCody</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise 3DOF Sim kinematics.  <a href="#a6341d3f8bba07767d7818828962841e5"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#aa71a8e08dbc2142cd4eec29cf507e51e">initPR2</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise PR2 kinematics.  <a href="#aa71a8e08dbc2142cd4eec29cf507e51e"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a18bcdb74ae1377b23bbff450c95a4b01">initSim3</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise 3DOF Sim kinematics.  <a href="#a18bcdb74ae1377b23bbff450c95a4b01"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a465dcb220da8fe7c9b4303c2c2f7444b">initComms</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise all publishers/subscribers used by the waypoint generator.  <a href="#a465dcb220da8fe7c9b4303c2c2f7444b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a52a33d0efa442357b23e9eb4584dafaa">goalPoseCallback</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Update goal pose.  <a href="#a52a33d0efa442357b23e9eb4584dafaa"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a29f592cb285a6073f92081ebf308478b">robotStateCallback</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store the current pose from the haptic state publisher.  <a href="#a29f592cb285a6073f92081ebf308478b"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a561b653c3e26125aec6b43a839864ceb">poseTrajectoryCallback</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a trajectory of poses in the deque.  <a href="#a561b653c3e26125aec6b43a839864ceb"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a844cc462dc6ee20c79abde6b70e3af41">jointTrajectoryCallback</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Store a joint angle trajectory in the deque.  <a href="#a844cc462dc6ee20c79abde6b70e3af41"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ace26ac9b4775acf54d78d7e445dcec19">straightLineTrajectory</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the next waypoint along a straight line trajectory from the current gripper pose to the goal pose.  <a href="#ace26ac9b4775acf54d78d7e445dcec19"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ac59d8fa9e0b598b7c5d881f186fbe521">getPositionStep</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a linearly interpolated step towards the goal pos from the current pos.  <a href="#ac59d8fa9e0b598b7c5d881f186fbe521"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a577da256848653c256e7c1c81da34872">getOrientationStep</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a linearly interpolated step towards the goal orientation from the current orientation (using SLERP)  <a href="#a577da256848653c256e7c1c81da34872"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac2094b77d066d963defcf70583460770"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::getMessageHeader" ref="ac2094b77d066d963defcf70583460770" args="" -->
def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ac2094b77d066d963defcf70583460770">getMessageHeader</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a message header (std_msgs object), populated with the time, frame_id and sequence number. <br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a65cbfbbbbfc447f2ff015345b9d8112c">distanceBetweenPoses</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Euclidian distance between two poses.  <a href="#a65cbfbbbbfc447f2ff015345b9d8112c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ad22a1797ec94a6b3da152fc0f001543c">angularDistanceBetweenPoses</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the angle between two quaternions (axis-angle representation)  <a href="#ad22a1797ec94a6b3da152fc0f001543c"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ab53dd0dc8187fe26b38143ef90494d23">getWaypointFromTrajectory</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to get a waypoint pose from the trajectory deque.  <a href="#ab53dd0dc8187fe26b38143ef90494d23"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ae3ad18aaf5a48be5903d9b8e83315916">generateWaypoint</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes the next waypoint for the control to try to achieve.  <a href="#ae3ad18aaf5a48be5903d9b8e83315916"></a><br/></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a483d2236e4740f32aff0b5fa9202a944">start</a></td></tr>
<tr><td class="mdescLeft">&#160;</td><td class="mdescRight">Start the waypoint generator publishing waypoints.  <a href="#a483d2236e4740f32aff0b5fa9202a944"></a><br/></td></tr>
<tr><td colspan="2"><h2><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5059002829f82dc3d717efc84649856f"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::robot_kinematics" ref="a5059002829f82dc3d717efc84649856f" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>robot_kinematics</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a761d0dab3b0392b0ef6bfa20c93f5025"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::tf_listener" ref="a761d0dab3b0392b0ef6bfa20c93f5025" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>tf_listener</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6bddda6dafde7b8cfbf935da8c25d2b7"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::pose_waypoint_pub" ref="a6bddda6dafde7b8cfbf935da8c25d2b7" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>pose_waypoint_pub</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="add92d260a4895798a5587ddcd389f380"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::pose_traj_viz_pub" ref="add92d260a4895798a5587ddcd389f380" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>pose_traj_viz_pub</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17a9074acdb5f8927993b5a43d53fd78"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::joint_angles" ref="a17a9074acdb5f8927993b5a43d53fd78" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>joint_angles</b></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9cf9e872e7a231f21773f5348baa8296"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::current_trajectory_msg" ref="a9cf9e872e7a231f21773f5348baa8296" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>current_trajectory_msg</b></td></tr>
<tr><td colspan="2"><h2><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a20cf8a0972c3feae1dedb870a2fdba2c"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::node_name" ref="a20cf8a0972c3feae1dedb870a2fdba2c" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>node_name</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a841e8529102acf3875ce4c0cec165c5b"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::opt" ref="a841e8529102acf3875ce4c0cec165c5b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>opt</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afcee66d3b391e2e9d6fe2da10716a1f1"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::rate" ref="afcee66d3b391e2e9d6fe2da10716a1f1" args="" -->
float&#160;</td><td class="memItemRight" valign="bottom"><b>rate</b> = 25.0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a95695a148cf5250f1d30539bb4eeee"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::msg_seq" ref="a5a95695a148cf5250f1d30539bb4eeee" args="" -->
int&#160;</td><td class="memItemRight" valign="bottom"><b>msg_seq</b> = 0</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a4f311dff4976b26f8f7f4fb0cb28fadc"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::param_path" ref="a4f311dff4976b26f8f7f4fb0cb28fadc" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>param_path</b> = &quot;&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a6e450379f057a9614e3d6fe6e7d126f6"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::base_path" ref="a6e450379f057a9614e3d6fe6e7d126f6" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>base_path</b> = &quot;/haptic_mpc&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad5a19318d987dc409dc03458d275c020"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::cody_param_path" ref="ad5a19318d987dc409dc03458d275c020" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>cody_param_path</b> = &quot;/cody&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a37ba5a87ee12b10c39d9290284a10212"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::pr2_param_path" ref="a37ba5a87ee12b10c39d9290284a10212" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>pr2_param_path</b> = &quot;/pr2&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3c86f678519d29a4d6df5adc9ed86559"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::sim_param_path" ref="a3c86f678519d29a4d6df5adc9ed86559" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>sim_param_path</b> = &quot;/sim3&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a992d4608193bf4281b8ab021d3d6a192"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::simcody_param_path" ref="a992d4608193bf4281b8ab021d3d6a192" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>simcody_param_path</b> = &quot;/simcody&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aff8c91a5e11ae78a6b67f8a18b94e31a"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::current_pose_topic" ref="aff8c91a5e11ae78a6b67f8a18b94e31a" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>current_pose_topic</b> = &quot;/haptic_mpc/robot_state&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a205c1349953af1439615232e2f386dc6"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::goal_pose_topic" ref="a205c1349953af1439615232e2f386dc6" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>goal_pose_topic</b> = &quot;/haptic_mpc/goal_pose&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adab79bdbf0af6d2ee41f3c1574b30a59"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::goal_pose_array_topic" ref="adab79bdbf0af6d2ee41f3c1574b30a59" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>goal_pose_array_topic</b> = &quot;/haptic_mpc/goal_pose_array&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae9a7c7bd8289e7f6796c151472727799"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::waypoint_pose_topic" ref="ae9a7c7bd8289e7f6796c151472727799" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>waypoint_pose_topic</b> = &quot;/haptic_mpc/traj_pose&quot;</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a082b5b140134694920f33ee22e6b7cec"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::robot" ref="a082b5b140134694920f33ee22e6b7cec" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>robot</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac104d7eedd724dde5f00029a1b4261a1"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::robot_name" ref="ac104d7eedd724dde5f00029a1b4261a1" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>robot_name</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affca79d50314893f7a83e80ba62ee1b4"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::sensor" ref="affca79d50314893f7a83e80ba62ee1b4" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>sensor</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a57580edaf591748dfb141ee109f9e88c"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::eq_gen_type" ref="a57580edaf591748dfb141ee109f9e88c" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>eq_gen_type</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ade54df2d6329f33a54a51d87a4d7d442"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::default_eq_gen_type" ref="ade54df2d6329f33a54a51d87a4d7d442" args="" -->
string&#160;</td><td class="memItemRight" valign="bottom"><b>default_eq_gen_type</b> = 'mpc_qs_1'</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3d1c55215e41499828fc9e71a0863662"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::skin_topic_list" ref="a3d1c55215e41499828fc9e71a0863662" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>skin_topic_list</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a347076ffa353acada7bf9490dfdcdb21"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::scl" ref="a347076ffa353acada7bf9490dfdcdb21" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>scl</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a153e6db78c3b7b65519fca4f5c933a2e"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::epcon" ref="a153e6db78c3b7b65519fca4f5c933a2e" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>epcon</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a26b7e3039d524dd27dc463c56e2134ed"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::max_pos_step" ref="a26b7e3039d524dd27dc463c56e2134ed" args="" -->
float&#160;</td><td class="memItemRight" valign="bottom"><b>max_pos_step</b> = 0.05</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a5a7fb8af438f0a54341d9b88816e89f2"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::max_ang_step" ref="a5a7fb8af438f0a54341d9b88816e89f2" args="" -->
float&#160;</td><td class="memItemRight" valign="bottom"><b>max_ang_step</b> = 0.02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a88412d925e2b0333699213a7d940f32e"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::at_waypoint_threshold" ref="a88412d925e2b0333699213a7d940f32e" args="" -->
float&#160;</td><td class="memItemRight" valign="bottom"><b>at_waypoint_threshold</b> = 0.02</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acfa05fc72be61911886037eb4dc82b1d"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::at_waypoint_ang_threshold" ref="acfa05fc72be61911886037eb4dc82b1d" args="" -->
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>at_waypoint_ang_threshold</b> = numpy.radians(5.0)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0f7c986397e2a8c219617dead80be583"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::current_trajectory_deque" ref="a0f7c986397e2a8c219617dead80be583" args="" -->
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>current_trajectory_deque</b> = collections.deque()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7c75d8cf6deced6af710e6982251b5dd"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::gripper_pose" ref="a7c75d8cf6deced6af710e6982251b5dd" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>gripper_pose</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23ea8229b92b618144c0082f6835ae4b"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::goal_pose" ref="a23ea8229b92b618144c0082f6835ae4b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>goal_pose</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a14bc08097042980f07166a6bf4dca05b"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::current_gripper_waypoint" ref="a14bc08097042980f07166a6bf4dca05b" args="" -->
&#160;</td><td class="memItemRight" valign="bottom"><b>current_gripper_waypoint</b> = None</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a9be1229528e635b740bb7059edc48d0a"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::traj_lock" ref="a9be1229528e635b740bb7059edc48d0a" args="" -->
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>traj_lock</b> = threading.RLock()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a93cd639eaf9f331ff2abf4ab19b1a3e8"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::goal_lock" ref="a93cd639eaf9f331ff2abf4ab19b1a3e8" args="" -->
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>goal_lock</b> = threading.RLock()</td></tr>
<tr><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a771fa5536dc67a3407c81d8a0d573c0a"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::state_lock" ref="a771fa5536dc67a3407c81d8a0d573c0a" args="" -->
tuple&#160;</td><td class="memItemRight" valign="bottom"><b>state_lock</b> = threading.RLock()</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p>takes either a goal pose or a trajectory and passes local goals to the MPC controller to try to make the controller follow it. </p>
</div><hr/><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a826f163218a8fe7f8b6c065a5a8c2adc"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::__init__" ref="a826f163218a8fe7f8b6c065a5a8c2adc" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a826f163218a8fe7f8b6c065a5a8c2adc">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.__init__</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>node_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>opt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Constructor. </p>
<p>Calls functions to initialise robot specific parameters, then initialises all publishers/subscribers. </p>

</div>
</div>
<hr/><h2>Member Function Documentation</h2>
<a class="anchor" id="ad22a1797ec94a6b3da152fc0f001543c"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::angularDistanceBetweenPoses" ref="ad22a1797ec94a6b3da152fc0f001543c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ad22a1797ec94a6b3da152fc0f001543c">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.angularDistanceBetweenPoses</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>poseA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>poseB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Return the angle between two quaternions (axis-angle representation) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">poseA</td><td>geometry_msgs.msg.Pose </td></tr>
    <tr><td class="paramname">poseB</td><td>geometry_msgs.msg.Pose </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The angular distance between the two pose orientations. </dd></dl>

</div>
</div>
<a class="anchor" id="a65cbfbbbbfc447f2ff015345b9d8112c"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::distanceBetweenPoses" ref="a65cbfbbbbfc447f2ff015345b9d8112c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a65cbfbbbbfc447f2ff015345b9d8112c">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.distanceBetweenPoses</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>poseA</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>poseB</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Euclidian distance between two poses. </p>
<p>Ignores differences in orientation. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">poseA</td><td>geometry_msgs.msg.Pose </td></tr>
    <tr><td class="paramname">poseB</td><td>geometry_msgs.msg.Pose </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>The euclidian distance between the two pose positions. </dd></dl>

</div>
</div>
<a class="anchor" id="ae3ad18aaf5a48be5903d9b8e83315916"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::generateWaypoint" ref="ae3ad18aaf5a48be5903d9b8e83315916" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ae3ad18aaf5a48be5903d9b8e83315916">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.generateWaypoint</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Publishes the next waypoint for the control to try to achieve. </p>
<p>If we have a valid trajectory, get the next waypoint from that. If not and we have a valid end goal pose instead, move in a straight line towards it. If we have neither, don't publish anything. </p>

</div>
</div>
<a class="anchor" id="a577da256848653c256e7c1c81da34872"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::getOrientationStep" ref="a577da256848653c256e7c1c81da34872" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a577da256848653c256e7c1c81da34872">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.getOrientationStep</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q_h_orient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>q_g_orient</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_ang_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a linearly interpolated step towards the goal orientation from the current orientation (using SLERP) </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">q_h_orient</td><td>Current hand orientation as a quaternion in numpy array form (assumed to be [x,y,z,w]) </td></tr>
    <tr><td class="paramname">q_g_orient</td><td>Current goal orientation as a quaternion in numpy array form (assumed to be [x,y,z,w]) </td></tr>
    <tr><td class="paramname">max_ang_step</td><td>A scalar max step size for orientation (in radians). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An interpolated step in orientation towards the goal. </dd></dl>

</div>
</div>
<a class="anchor" id="ac59d8fa9e0b598b7c5d881f186fbe521"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::getPositionStep" ref="ac59d8fa9e0b598b7c5d881f186fbe521" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ac59d8fa9e0b598b7c5d881f186fbe521">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.getPositionStep</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>goal_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_pos_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns a linearly interpolated step towards the goal pos from the current pos. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">current_pos</td><td>Current position as a numpy array (assumed to be [x,y,z]) </td></tr>
    <tr><td class="paramname">goal_pos</td><td>Goal position as a numpy array (assumed to be [x,y,z]) </td></tr>
    <tr><td class="paramname">max_pos_step</td><td>A scalar max step size for position (in metres). </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>An interpolated step in position towards the goal. </dd></dl>

</div>
</div>
<a class="anchor" id="ab53dd0dc8187fe26b38143ef90494d23"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::getWaypointFromTrajectory" ref="ab53dd0dc8187fe26b38143ef90494d23" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ab53dd0dc8187fe26b38143ef90494d23">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.getWaypointFromTrajectory</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Try to get a waypoint pose from the trajectory deque. </p>
<p>Also trims the trajectory to reduce the number of waypoint. Scans through the trajectory to find the next pose that is at least max_pos_step away (or the last pose in the deque). </p>
<dl class="return"><dt><b>Returns:</b></dt><dd>A Pose object if there is a currently stored trajectory, otherwise None. </dd></dl>

</div>
</div>
<a class="anchor" id="a52a33d0efa442357b23e9eb4584dafaa"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::goalPoseCallback" ref="a52a33d0efa442357b23e9eb4584dafaa" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a52a33d0efa442357b23e9eb4584dafaa">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.goalPoseCallback</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Update goal pose. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>A geometry_msgs.msg.PoseStamped object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a6341d3f8bba07767d7818828962841e5"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::initCody" ref="a6341d3f8bba07767d7818828962841e5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a6341d3f8bba07767d7818828962841e5">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.initCody</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise 3DOF Sim kinematics. </p>
<p>NB: This doesn't actually do anything and is added mostly for structural consistency. </p>

</div>
</div>
<a class="anchor" id="a465dcb220da8fe7c9b4303c2c2f7444b"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::initComms" ref="a465dcb220da8fe7c9b4303c2c2f7444b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a465dcb220da8fe7c9b4303c2c2f7444b">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.initComms</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise all publishers/subscribers used by the waypoint generator. </p>

</div>
</div>
<a class="anchor" id="aa71a8e08dbc2142cd4eec29cf507e51e"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::initPR2" ref="aa71a8e08dbc2142cd4eec29cf507e51e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#aa71a8e08dbc2142cd4eec29cf507e51e">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.initPR2</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise PR2 kinematics. </p>
<p>NB: Only used for joint limits, will eventually be removed once these are passed with the robot state. </p>

</div>
</div>
<a class="anchor" id="a18bcdb74ae1377b23bbff450c95a4b01"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::initSim3" ref="a18bcdb74ae1377b23bbff450c95a4b01" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a18bcdb74ae1377b23bbff450c95a4b01">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.initSim3</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Initialise 3DOF Sim kinematics. </p>
<p>NB: This doesn't actually do anything and is added mostly for structural consistency. </p>

</div>
</div>
<a class="anchor" id="a844cc462dc6ee20c79abde6b70e3af41"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::jointTrajectoryCallback" ref="a844cc462dc6ee20c79abde6b70e3af41" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a844cc462dc6ee20c79abde6b70e3af41">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.jointTrajectoryCallback</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a joint angle trajectory in the deque. </p>
<p>Performs forward kinematics to convert it to end effector poses in the torso frame. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>A trajectory_msgs.msg.JointTrajectory object. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a561b653c3e26125aec6b43a839864ceb"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::poseTrajectoryCallback" ref="a561b653c3e26125aec6b43a839864ceb" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a561b653c3e26125aec6b43a839864ceb">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.poseTrajectoryCallback</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store a trajectory of poses in the deque. </p>
<p>Converts it to the 'torso_frame' if required. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>A geometry_msgs.msg.PoseArray object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a29f592cb285a6073f92081ebf308478b"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::robotStateCallback" ref="a29f592cb285a6073f92081ebf308478b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a29f592cb285a6073f92081ebf308478b">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.robotStateCallback</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Store the current pose from the haptic state publisher. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">msg</td><td>RobotHapticState messge object </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a483d2236e4740f32aff0b5fa9202a944"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::start" ref="a483d2236e4740f32aff0b5fa9202a944" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#a483d2236e4740f32aff0b5fa9202a944">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.start</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Start the waypoint generator publishing waypoints. </p>

</div>
</div>
<a class="anchor" id="ace26ac9b4775acf54d78d7e445dcec19"></a><!-- doxytag: member="hrl_haptic_mpc::waypoint_generator::WaypointGenerator::straightLineTrajectory" ref="ace26ac9b4775acf54d78d7e445dcec19" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def <a class="el" href="classhrl__haptic__mpc_1_1waypoint__generator_1_1_waypoint_generator.html#ace26ac9b4775acf54d78d7e445dcec19">hrl_haptic_mpc.waypoint_generator.WaypointGenerator.straightLineTrajectory</a> </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>current_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>goal_pose</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_pos_step</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>max_ang_step</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>Returns the next waypoint along a straight line trajectory from the current gripper pose to the goal pose. </p>
<p>The step size towards the goal is configurable through the parameters passed in. </p>
<dl class="params"><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">current_pose</td><td>geometry_msgs.msg.Pose </td></tr>
    <tr><td class="paramname">goal_pose</td><td>geometry_msgs.msg.Pose </td></tr>
    <tr><td class="paramname">max_pos_step</td><td>= scalar float for position step size to take (metres) </td></tr>
    <tr><td class="paramname">max_ang_step</td><td>= scalar float for orientation step size to take (radians) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>A geometry_msgs.msg.Pose to send to the MPC </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/jdh/ros_sandbox/hrl_haptic_manipulation_in_clutter/hrl_haptic_mpc/src/hrl_haptic_mpc/waypoint_generator.py</li>
</ul>
</div><!-- contents -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>



<hr class="footer"/><address class="footer"><small>
Generated on Thu Jan 17 2013 16:21:14 for HRL Haptic MPC by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.6.1
</small></address>

</body>
</html>
